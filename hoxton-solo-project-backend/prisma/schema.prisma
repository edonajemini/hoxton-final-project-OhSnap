// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./data.db"
}

model User {
  id       Int      @id @default(autoincrement())
  email    String   @unique
  password String
  name     String
  role     String   @default("USER")
  profile  Profile?
  blog     Blog[]
  reviews  Review[]
}

model UserPremium {
  id       Int      @id @default(autoincrement())
  email    String   @unique
  password String
  name     String
  profile  Profile?
  reviews  Review[]
  blog     Blog[]
  emoji    Emoji[]
}

model Profile {
  id            Int         @id @default(autoincrement())
  bio           String
  user          User        @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  userId        Int         @unique
  userPremium   UserPremium @relation(fields: [userPremiumId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  userPremiumId Int         @unique
}

model Blog {
  id            Int         @id @default(autoincrement())
  title         String
  location      String?
  createdAt     DateTime    @default(now())
  blog          String
  userPremium   UserPremium @relation(fields: [userPremiumId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  userPremiumId Int
  User          User        @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  userId        Int
  reviews       Review[]
}

model Emoji {
  id            Int         @id @default(autoincrement())
  emoji         String
  userPremium   UserPremium @relation(fields: [userPremiumId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  userPremiumId Int
}

model Review {
  id            Int         @id @default(autoincrement())
  user          User        @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  userId        Int
  userPremium   UserPremium @relation(fields: [userPremiumId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  userPremiumId Int
  rating        Int
  content       String
  createdAt     DateTime    @default(now())
  blog          Blog        @relation(fields: [blogId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  blogId        Int
}
